# Менеджер задач
# Задача: Создай класс `Task`, который позволяет управлять задачами (делами).
# У задачи должны быть атрибуты: описание задачи, срок выполнения и статус (выполнено/не выполнено).
# Реализуй функцию для добавления задач, отметки выполненных задач и вывода списка текущих (не выполненных) задач.

# Импортируем модуль datetime для работы с датами
from datetime import datetime

# Создаем класс Task для представления задачи
class Task():
    # Конструктор класса, инициализирующий атрибуты задачи
    def __init__(self, description, due_date):
        self.description = description  # Описание задачи
        self.due_date = due_date      # Срок выполнения задачи
        self.completed = False         # Статус задачи (по умолчанию не выполнена)

    # Метод для отметки задачи как выполненной
    def mark_as_completed(self):
        self.completed = True         # Устанавливаем статус задачи как выполненный

    # Метод для строкового представления задачи
    def __str__(self):
        status = "Выполнено" if self.completed else "Не выполнено"  # Определяем статус задачи
        return f"Описание: {self.description}, Срок: {self.due_date}, Статус: {status}"  # Возвращаем строку с информацией о задаче

# Создаем класс TaskManager для управления задачами
class TaskManager:
    # Конструктор класса, инициализирующий список задач
    def __init__(self):
        self.tasks = []  # Список для хранения задач

    # Метод для добавления новой задачи
    def add_task(self, description, due_date):
        new_task = Task(description, due_date)  # Создаем новый объект задачи
        self.tasks.append(new_task)             # Добавляем задачу в список

    # Метод для отметки задачи как выполненной по индексу
    def complete_task(self, index):
        if 0 <= index < len(self.tasks):       # Проверяем, что индекс в пределах списка
            self.tasks[index].mark_as_completed()  # Отмечаем задачу как выполненную
        else:
            print("Ошибка: неверный индекс задачи")  # Выводим сообщение об ошибке, если индекс неверный

    # Метод для вывода списка текущих (не выполненных) задач
    def show_current_tasks(self):
        print("Текущие задачи:")                # Выводим заголовок списка
        for task in self.tasks:                # Перебираем все задачи в списке
            if not task.completed:             # Проверяем, что задача не выполнена
                print(task)                    # Выводим информацию о задаче

# Пример использования классов
if __name__ == "__main__":
    manager = TaskManager()  # Создаем объект менеджера задач

    # Добавляем задачи
    manager.add_task("Купить молоко", datetime(2023, 10, 15))  # Добавляем задачу с описанием и сроком
    manager.add_task("Позвонить другу", datetime(2023, 10, 20))  # Добавляем еще одну задачу

    # Отмечаем одну задачу как выполненную
    manager.complete_task(0)  # Отмечаем первую задачу как выполненную

    # Выводим список текущих задач
    manager.show_current_tasks()  # Выводим только не выполненные задачи